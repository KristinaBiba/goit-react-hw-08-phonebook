"use strict";(self.webpackChunkgoit_react_hw_08_phonebook=self.webpackChunkgoit_react_hw_08_phonebook||[]).push([[369],{4369:function(n,e,t){t.r(e),t.d(e,{default:function(){return J}});var r=t(9439),o=t(2791),i=t(9434),a=t(773),c=t(2580),s=t(4554),l=t(890),d=t(3329),u=function(n){var e=n.title,t=n.children;return(0,d.jsxs)(s.Z,{component:"main",sx:{marginTop:"12px",marginBottom:"12px",textAlign:"center"},children:[e&&(0,d.jsx)(l.Z,{variant:"h4",component:"h2",sx:{textAlign:"center",marginBottom:"12px"},children:e}),t]})},m=t(1413),x=t(4164),h=t(2007),f=t.n(h),p=t(1993),g=t(2739),j=t(2003),v=t(3400),Z=t(9823),b=document.getElementById("modal-root"),y={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4,borderColor:"primary"};function w(n){var e=n.toggleModal,t=n.isModalOpen,r=n.children;(0,o.useEffect)((function(){return window.addEventListener("keydown",i),function(){window.removeEventListener("keydown",i)}}));var i=function(n){"Escape"===n.code&&e()};return(0,x.createPortal)((0,d.jsx)(p.Z,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",open:t,onClose:function(n){n.currentTarget===n.target&&e()},closeAfterTransition:!0,BackdropComponent:g.Z,BackdropProps:{timeout:500},children:(0,d.jsx)(j.Z,{in:t,children:(0,d.jsxs)(s.Z,{sx:y,children:[(0,d.jsx)(v.Z,{sx:{left:"90%"},onClick:function(n){e()},"aria-label":"add an alarm",children:(0,d.jsx)(Z.Z,{})}),r]})})}),b)}p.Z.propTypes={toggleModal:f().func,src:f().string};var C=t(1134),k=t(2208),P=t(4819),L=P.object({contactName:P.string().min(3).max(30).required().messages({"string.base":"Name should be a type of string","string.min":"Name must contain min 3 simbols","string.max":"Name must contain max 30 simbols","any.required":"Name is a required field"}),contactPhone:P.string().min(12).max(17).required().messages({"string.base":'Phone should contain numbers, "(", ")", "+"',"string.min":"Phone must contain min 12 simbols","string.max":"Phone must contain max 17 simbols","any.required":"Phone is a required field"})}),M=t(8096),_=t(6170),S=t(6151);function N(n){var e,t,r=n.toggleModal,o=n.edit,u=n.id,x=(0,i.v9)(c.K2),h=(0,i.I0)(),f="",p="";if(o){var g=x.find((function(n){return n._id===u}));f=g.name,p=g.phone}var j=(0,C.cI)({defaultValues:{contactName:"".concat(f),contactPhone:"".concat(p)},resolver:(0,k.L)(L)}),v=j.control,Z=j.handleSubmit,b=j.formState.errors;return(0,d.jsxs)(s.Z,{component:"form",sx:{"& .MuiTextField-root":{m:1,width:"25ch"},padding:"12px"},noValidate:!0,autoComplete:"off",onSubmit:Z((function(n){var e=n.contactName,t=n.contactPhone,i=e.toLowerCase();o?x.find((function(n){return n.name.toLowerCase()===i&&n._id!==u}))?alert("".concat(e," is already incontacts")):h((0,a.mP)({name:e,phone:t,id:u})):x.find((function(n){return n.name.toLowerCase()===i}))?alert("".concat(e," is already incontacts")):h((0,a.uK)({name:e,phone:t})),r()})),children:[(0,d.jsx)(l.Z,{variant:"h6",component:"h3",align:"center",color:"primary",mb:2,children:o?"Edit contact":"Create new contact"}),(0,d.jsxs)(s.Z,{sx:{display:"flex",flexDirection:"column",gap:"8px"},children:[(0,d.jsxs)(M.Z,{children:[(0,d.jsx)(C.Qr,{render:function(n){var e=n.field;return(0,d.jsx)(_.Z,(0,m.Z)((0,m.Z)({},e),{},{label:"Name"}))},name:"contactName",control:v,required:!0}),(0,d.jsx)(l.Z,{variant:"body2",component:"p",style:{color:"red",paddingLeft:"12px"},children:null===(e=b.contactName)||void 0===e?void 0:e.message})]}),(0,d.jsxs)(M.Z,{children:[(0,d.jsx)(C.Qr,{render:function(n){var e=n.field;return(0,d.jsx)(_.Z,(0,m.Z)((0,m.Z)({},e),{},{label:"Phone"}))},name:"contactPhone",control:v,required:!0,type:"tel",label:"Phone"}),(0,d.jsx)(l.Z,{variant:"body2",component:"p",style:{color:"red",paddingLeft:"12px"},children:null===(t=b.contactPhone)||void 0===t?void 0:t.message})]})]}),(0,d.jsx)(S.Z,{size:"small",type:"submit",text:"Add contact",style:{marginLeft:"8px",marginTop:"8px"},children:o?"Save changes":"Add contact"})]})}var q=t(4852),B=t(653),E=t(3044),I=t(9900),T=t(2716),A=t(7247),F=t(1286),K=function(n){var e=n._id,t=n.name,c=n.phone,s=(0,o.useState)(!1),l=(0,r.Z)(s,2),u=l[0],m=l[1],x=function(){return m(!u)},h=(0,i.I0)();return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)(q.ZP,{secondaryAction:(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(v.Z,{"aria-label":"edit",onClick:function(){x()},sx:{flexGrow:1,maxWidth:"100%"},children:(0,d.jsx)(F.Z,{})}),(0,d.jsx)(v.Z,{edge:"end","aria-label":"delete",onClick:function(){!function(n){h((0,a.GK)(n))}(e)},sx:{flexGrow:1,maxWidth:"100%"},children:(0,d.jsx)(A.Z,{})})]}),children:[(0,d.jsx)(B.Z,{children:(0,d.jsx)(E.Z,{children:(0,d.jsx)(T.Z,{})})}),(0,d.jsxs)(I.Z,{children:[t,": ",c]})]}),u&&(0,d.jsx)(w,{isModalOpen:u,toggleModal:x,children:(0,d.jsx)(N,{toggleModal:x,edit:!0,id:e})})]})},z=t(493),W=function(){var n=(0,i.v9)(c.K2),e=(0,i.v9)(c.zK),t=function(){var t=e.toLowerCase();return n.filter((function(n){return n.name.toLowerCase().includes(t)}))}();return(0,d.jsx)(z.Z,{disablePadding:!0,sx:{maxWidth:"400px",marginRight:"auto",marginLeft:"auto"},children:t.map((function(n){return(0,d.jsx)(K,(0,m.Z)({},n),n._id)}))})},G=t(2627),O=function(){var n=(0,i.v9)(c.zK),e=(0,i.I0)();return(0,d.jsx)(_.Z,{id:"outlined-search",label:"Find contact",type:"search",variant:"filled",name:"filter",value:n,onChange:function(n){var t=n.target.value;e((0,G.M)(t))}})},V=t(7621),D=t(7047);function Q(){return(0,d.jsx)("div",{style:{display:"flex",flexDirection:"column",marginLeft:"auto",marginRight:"auto",maxWidth:"318px",marginTop:"24px"},children:[1,2,3,4,5].map((function(n){return(0,d.jsxs)(V.Z,{style:{display:"flex",alignItems:"center",gap:"16px",marginBottom:"20px",boxShadow:"none"},children:[(0,d.jsx)(D.Z,{variant:"circular",width:40,height:40}),(0,d.jsx)(D.Z,{variant:"rounded",width:230,height:24}),(0,d.jsx)(D.Z,{variant:"circular",width:24,height:24})]},n)}))})}var R=t(8439),H=t(5403);var J=function(){var n=(0,i.I0)(),e=(0,i.v9)(c.Vc),t=(0,i.v9)(c.by),s=(0,o.useState)(!1),l=(0,r.Z)(s,2),m=l[0],x=l[1],h=(0,o.useState)(!1),f=(0,r.Z)(h,2),p=f[0],g=f[1];(0,o.useEffect)((function(){n((0,a.yF)())}),[n]);var j=function(){return x(!m)};return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)(u,{title:"My contacts",children:[(0,d.jsxs)("div",{style:{marginBottom:"12px"},children:[(0,d.jsx)(S.Z,{type:"button",onClick:function(){j()},children:(0,d.jsx)(R.Z,{color:"primary",fontSize:"large"})}),(0,d.jsx)(S.Z,{type:"button",onClick:function(){g(!p)},children:(0,d.jsx)(H.Z,{color:"primary",fontSize:"large"})})]}),p&&(0,d.jsx)(O,{}),e&&!t&&(0,d.jsx)(Q,{}),!e&&(0,d.jsx)(W,{})]}),m&&(0,d.jsx)(w,{isModalOpen:m,toggleModal:j,children:(0,d.jsx)(N,{toggleModal:j})})]})}}}]);
//# sourceMappingURL=369.7d9a6526.chunk.js.map