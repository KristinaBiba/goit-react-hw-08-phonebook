"use strict";(self.webpackChunkgoit_react_hw_08_phonebook=self.webpackChunkgoit_react_hw_08_phonebook||[]).push([[369],{4369:function(e,n,t){t.r(n),t.d(n,{default:function(){return Q}});var a=t(9439),r=t(2791),i=t(9434),o=t(773),s=t(2580),c=t(4554),l=t(890),d=t(3329),u=function(e){var n=e.title,t=e.children;return(0,d.jsxs)(c.Z,{component:"main",sx:{marginTop:"12px",marginBottom:"12px",textAlign:"center"},children:[n&&(0,d.jsx)(l.Z,{variant:"h4",component:"h2",sx:{textAlign:"center",marginBottom:"12px"},children:n}),t]})},m=t(1413),x=t(4164),h=t(2007),f=t.n(h),p=t(1993),g=t(2739),j=t(2003),v=t(3400),Z=t(9823),b=document.getElementById("modal-root"),y={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4,borderColor:"primary"};function w(e){var n=e.toggleModal,t=e.isModalOpen,a=e.children;(0,r.useEffect)((function(){return window.addEventListener("keydown",i),function(){window.removeEventListener("keydown",i)}}));var i=function(e){"Escape"===e.code&&n()};return(0,x.createPortal)((0,d.jsx)(p.Z,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",open:t,onClose:function(e){e.currentTarget===e.target&&n()},closeAfterTransition:!0,BackdropComponent:g.Z,BackdropProps:{timeout:500},children:(0,d.jsx)(j.Z,{in:t,children:(0,d.jsxs)(c.Z,{sx:y,children:[(0,d.jsx)(v.Z,{sx:{left:"90%"},onClick:function(e){n()},"aria-label":"add an alarm",children:(0,d.jsx)(Z.Z,{})}),a]})})}),b)}p.Z.propTypes={toggleModal:f().func,src:f().string};var C=t(1134),k=t(2208),P=t(4819),L=P.object({contactName:P.string().min(3).max(30).required().messages({"string.base":"Name should be a type of string","string.min":"Name must contain min 3 simbols","string.max":"Name must contain max 30 simbols","any.required":"Name is a required field"}),contactPhone:P.string().min(12).max(17).required().messages({"string.base":'Phone should contain numbers, "(", ")", "+"',"string.min":"Phone must contain min 12 simbols","string.max":"Phone must contain max 17 simbols","any.required":"Phone is a required field"})}),M=t(8096),S=t(6170),_=t(6151);function N(e){var n,t,u=e.toggleModal,x=e.edit,h=e.id,f=(0,r.useState)(""),p=(0,a.Z)(f,2),g=p[0],j=p[1],v=(0,r.useState)(""),Z=(0,a.Z)(v,2),b=Z[0],y=Z[1],w=(0,i.v9)(s.K2),P=(0,i.I0)();(0,r.useEffect)((function(){if(x){var e=w.find((function(e){return e._id===h}));j(e.name),y(e.phone)}}),[x,h,w]);var N=function(e){var n=e.target,t=n.name,a=n.value;switch(t){case"contactName":j(a);break;case"contactPhone":y(a);break;default:j(""),y("")}},q=(0,C.cI)({resolver:(0,k.L)(L)}),E=q.register,B=q.handleSubmit,I=q.formState.errors;return(0,d.jsxs)(c.Z,{component:"form",sx:{"& .MuiTextField-root":{m:1,width:"25ch"},padding:"12px"},noValidate:!0,autoComplete:"off",onSubmit:B((function(){var e=g.toLowerCase();x?w.find((function(n){return n.name.toLowerCase()===e&&n._id!==h}))?alert("".concat(g," is already incontacts")):P((0,o.mP)({name:g,phone:b,id:h})):w.find((function(n){return n.name.toLowerCase()===e}))?alert("".concat(g," is already incontacts")):P((0,o.uK)({name:g,phone:b})),j(""),y(""),u()})),children:[(0,d.jsx)(l.Z,{variant:"h6",component:"h3",align:"center",color:"primary",mb:2,children:x?"Edit contact":"Create new contact"}),(0,d.jsxs)(c.Z,{sx:{display:"flex",flexDirection:"column",gap:"8px"},children:[(0,d.jsxs)(M.Z,{children:[(0,d.jsx)(S.Z,(0,m.Z)((0,m.Z)({},E("contactName")),{},{type:"text",name:"contactName",label:"Name",onChange:N,value:g,required:!0})),(0,d.jsx)(l.Z,{variant:"body2",component:"p",style:{color:"red",paddingLeft:"12px"},children:null===(n=I.contactName)||void 0===n?void 0:n.message})]}),(0,d.jsxs)(M.Z,{children:[(0,d.jsx)(S.Z,(0,m.Z)((0,m.Z)({},E("contactPhone")),{},{required:!0,type:"tel",label:"Phone",name:"contactPhone",onChange:N,value:b})),(0,d.jsx)(l.Z,{variant:"body2",component:"p",style:{color:"red",paddingLeft:"12px"},children:null===(t=I.contactPhone)||void 0===t?void 0:t.message})]})]}),(0,d.jsx)(_.Z,{size:"small",type:"submit",text:"Add contact",style:{marginLeft:"8px",marginTop:"8px"},children:x?"Save changes":"Add contact"})]})}var q=t(4852),E=t(653),B=t(3044),I=t(9900),T=t(2716),A=t(7247),F=t(1286),K=function(e){var n=e._id,t=e.name,s=e.phone,c=(0,r.useState)(!1),l=(0,a.Z)(c,2),u=l[0],m=l[1],x=function(){return m(!u)},h=(0,i.I0)();return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)(q.ZP,{secondaryAction:(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(v.Z,{"aria-label":"edit",onClick:function(){x()},sx:{flexGrow:1,maxWidth:"100%"},children:(0,d.jsx)(F.Z,{})}),(0,d.jsx)(v.Z,{edge:"end","aria-label":"delete",onClick:function(){!function(e){h((0,o.GK)(e))}(n)},sx:{flexGrow:1,maxWidth:"100%"},children:(0,d.jsx)(A.Z,{})})]}),children:[(0,d.jsx)(E.Z,{children:(0,d.jsx)(B.Z,{children:(0,d.jsx)(T.Z,{})})}),(0,d.jsxs)(I.Z,{children:[t,": ",s]})]}),u&&(0,d.jsx)(w,{isModalOpen:u,toggleModal:x,children:(0,d.jsx)(N,{toggleModal:x,edit:!0,id:n})})]})},z=t(493),W=function(){var e=(0,i.v9)(s.K2),n=(0,i.v9)(s.zK),t=function(){var t=n.toLowerCase();return e.filter((function(e){return e.name.toLowerCase().includes(t)}))}();return(0,d.jsx)(z.Z,{disablePadding:!0,sx:{maxWidth:"350px",marginRight:"auto",marginLeft:"auto"},children:t.map((function(e){return(0,d.jsx)(K,(0,m.Z)({},e),e._id)}))})},G=t(2627),O=function(){var e=(0,i.v9)(s.zK),n=(0,i.I0)();return(0,d.jsx)(S.Z,{id:"outlined-search",label:"Find contact",type:"search",variant:"filled",name:"filter",value:e,onChange:function(e){var t=e.target.value;n((0,G.M)(t))}})},D=t(7621),R=t(7047);function V(){return(0,d.jsx)("div",{style:{display:"flex",flexDirection:"column",marginLeft:"auto",marginRight:"auto",maxWidth:"318px",marginTop:"24px"},children:[1,2,3,4,5].map((function(e){return(0,d.jsxs)(D.Z,{style:{display:"flex",alignItems:"center",gap:"16px",marginBottom:"20px",boxShadow:"none"},children:[(0,d.jsx)(R.Z,{variant:"circular",width:40,height:40}),(0,d.jsx)(R.Z,{variant:"rounded",width:230,height:24}),(0,d.jsx)(R.Z,{variant:"circular",width:24,height:24})]},e)}))})}var H=t(8439),J=t(5403);var Q=function(){var e=(0,i.I0)(),n=(0,i.v9)(s.Vc),t=(0,i.v9)(s.by),c=(0,r.useState)(!1),l=(0,a.Z)(c,2),m=l[0],x=l[1],h=(0,r.useState)(!1),f=(0,a.Z)(h,2),p=f[0],g=f[1];(0,r.useEffect)((function(){e((0,o.yF)())}),[e]);var j=function(){return x(!m)};return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)(u,{title:"My contacts",children:[(0,d.jsxs)("div",{style:{marginBottom:"12px"},children:[(0,d.jsx)(_.Z,{type:"button",onClick:function(){j()},children:(0,d.jsx)(H.Z,{color:"primary",fontSize:"large"})}),(0,d.jsx)(_.Z,{type:"button",onClick:function(){g(!p)},children:(0,d.jsx)(J.Z,{color:"primary",fontSize:"large"})})]}),p&&(0,d.jsx)(O,{}),n&&!t&&(0,d.jsx)(V,{}),!n&&(0,d.jsx)(W,{})]}),m&&(0,d.jsx)(w,{isModalOpen:m,toggleModal:j,children:(0,d.jsx)(N,{toggleModal:j})})]})}}}]);
//# sourceMappingURL=369.00d2e4cc.chunk.js.map