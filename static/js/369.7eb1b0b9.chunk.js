"use strict";(self.webpackChunkgoit_react_hw_08_phonebook=self.webpackChunkgoit_react_hw_08_phonebook||[]).push([[369],{4369:function(e,n,t){t.r(n),t.d(n,{default:function(){return J}});var a=t(9439),o=t(2791),r=t(9434),i=t(773),s=t(2580),c=t(4554),l=t(890),d=t(3329),u=function(e){var n=e.title,t=e.children;return(0,d.jsxs)(c.Z,{component:"main",sx:{marginTop:"12px",marginBottom:"12px",textAlign:"center"},children:[n&&(0,d.jsx)(l.Z,{variant:"h4",component:"h2",sx:{textAlign:"center",marginBottom:"12px"},children:n}),t]})},m=t(1413),x=t(4852),h=t(3400),p=t(653),g=t(3044),f=t(9900),v=t(2716),j=t(7247),Z=function(e){var n=e._id,t=e.name,a=e.phone,o=(0,r.I0)();return(0,d.jsxs)(x.ZP,{secondaryAction:(0,d.jsx)(h.Z,{edge:"end","aria-label":"delete",onClick:function(){!function(e){o((0,i.GK)(e))}(n)},sx:{flexGrow:1,maxWidth:"100%"},children:(0,d.jsx)(j.Z,{})}),children:[(0,d.jsx)(p.Z,{children:(0,d.jsx)(g.Z,{children:(0,d.jsx)(v.Z,{})})}),(0,d.jsxs)(f.Z,{children:[t,": ",a]})]})},b=t(493),y=function(){var e=(0,r.v9)(s.K2),n=(0,r.v9)(s.zK),t=function(){var t=n.toLowerCase();return e.filter((function(e){return e.name.toLowerCase().includes(t)}))}();return(0,d.jsx)(b.Z,{disablePadding:!0,sx:{maxWidth:"350px",marginRight:"auto",marginLeft:"auto"},children:t.map((function(e){return(0,d.jsx)(Z,(0,m.Z)({},e),e._id)}))})},w=t(2627),C=t(6170),k=function(){var e=(0,r.v9)(s.zK),n=(0,r.I0)();return(0,d.jsx)(C.Z,{id:"outlined-search",label:"Find contact",type:"search",variant:"filled",name:"filter",value:e,onChange:function(e){var t=e.target.value;n((0,w.M)(t))}})},P=t(7621),L=t(7047);function N(){return(0,d.jsx)("div",{style:{display:"flex",flexDirection:"column",marginLeft:"auto",marginRight:"auto",maxWidth:"318px",marginTop:"24px"},children:[1,2,3,4,5].map((function(e){return(0,d.jsxs)(P.Z,{style:{display:"flex",alignItems:"center",gap:"16px",marginBottom:"20px",boxShadow:"none"},children:[(0,d.jsx)(L.Z,{variant:"circular",width:40,height:40}),(0,d.jsx)(L.Z,{variant:"rounded",width:230,height:24}),(0,d.jsx)(L.Z,{variant:"circular",width:24,height:24})]},e)}))})}var S=t(4164),M=t(2007),_=t.n(M),q=t(1134),B=t(2208),I=t(4819),T=I.object({contactName:I.string().min(3).max(30).required().messages({"string.base":"Name should be a type of string","string.min":"Name must contain min 3 simbols","string.max":"Name must contain max 30 simbols","any.required":"Name is a required field"}),contactPhone:I.string().min(12).max(17).required().messages({"string.base":'Phone should contain numbers, "(", ")", "+"',"string.min":"Phone must contain min 12 simbols","string.max":"Phone must contain max 17 simbols","any.required":"Phone is a required field"})}),A=t(8096),E=t(6151);function K(e){var n,t,u=e.toggleModal,x=(0,o.useState)(""),h=(0,a.Z)(x,2),p=h[0],g=h[1],f=(0,o.useState)(""),v=(0,a.Z)(f,2),j=v[0],Z=v[1],b=(0,r.v9)(s.K2),y=(0,r.I0)(),w=function(e){var n=e.target,t=n.name,a=n.value;switch(t){case"contactName":g(a);break;case"contactPhone":Z(a);break;default:g(""),Z("")}},k=(0,q.cI)({resolver:(0,B.L)(T)}),P=k.register,L=k.handleSubmit,N=k.formState.errors;return(0,d.jsxs)(c.Z,{component:"form",sx:{"& .MuiTextField-root":{m:1,width:"25ch"},padding:"12px"},noValidate:!0,autoComplete:"off",onSubmit:L((function(e){var n=e.contactName,t=e.contactPhone,a=n.toLowerCase();b.find((function(e){return e.name.toLowerCase()===a}))?alert("".concat(n," is already incontacts")):y((0,i.uK)({name:n,phone:t})),g(""),Z(""),u()})),children:[(0,d.jsxs)(l.Z,{variant:"h6",component:"h3",align:"center",color:"primary",mb:2,children:[" ","Create new contact"]}),(0,d.jsxs)(c.Z,{sx:{display:"flex",flexDirection:"column",gap:"8px"},children:[(0,d.jsxs)(A.Z,{children:[(0,d.jsx)(C.Z,(0,m.Z)((0,m.Z)({},P("contactName")),{},{type:"text",name:"contactName",label:"Name",onChange:w,value:p,required:!0})),(0,d.jsx)(l.Z,{variant:"body2",component:"p",style:{color:"red",paddingLeft:"12px"},children:null===(n=N.contactName)||void 0===n?void 0:n.message})]}),(0,d.jsxs)(A.Z,{children:[(0,d.jsx)(C.Z,(0,m.Z)((0,m.Z)({},P("contactPhone")),{},{required:!0,type:"tel",label:"Phone",name:"contactPhone",onChange:w,value:j})),(0,d.jsx)(l.Z,{variant:"body2",component:"p",style:{color:"red",paddingLeft:"12px"},children:null===(t=N.contactPhone)||void 0===t?void 0:t.message})]})]}),(0,d.jsx)(E.Z,{size:"small",type:"submit",text:"Add contact",style:{marginLeft:"8px",marginTop:"8px"},children:"Add contact"})]})}var z=t(1993),F=t(2739),W=t(2003),D=t(9823),G=document.getElementById("modal-root"),O={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4,borderColor:"primary"};function R(e){var n=e.toggleModal,t=e.isModalOpen;(0,o.useEffect)((function(){return window.addEventListener("keydown",a),function(){window.removeEventListener("keydown",a)}}));var a=function(e){"Escape"===e.code&&n()};return(0,S.createPortal)((0,d.jsx)(z.Z,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",open:t,onClose:function(e){e.currentTarget===e.target&&n()},closeAfterTransition:!0,BackdropComponent:F.Z,BackdropProps:{timeout:500},children:(0,d.jsx)(W.Z,{in:t,children:(0,d.jsxs)(c.Z,{sx:O,children:[(0,d.jsx)(h.Z,{sx:{left:"90%"},onClick:function(e){n()},"aria-label":"add an alarm",children:(0,d.jsx)(D.Z,{})}),(0,d.jsx)(K,{toggleModal:n})]})})}),G)}z.Z.propTypes={toggleModal:_().func,src:_().string};var V=t(8439),H=t(5403);var J=function(){var e=(0,r.I0)(),n=(0,r.v9)(s.Vc),t=(0,r.v9)(s.by),c=(0,o.useState)(!1),l=(0,a.Z)(c,2),m=l[0],x=l[1],h=(0,o.useState)(!1),p=(0,a.Z)(h,2),g=p[0],f=p[1];(0,o.useEffect)((function(){e((0,i.yF)())}),[e]);var v=function(){return x(!m)};return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)(u,{title:"My contacts",children:[(0,d.jsxs)("div",{style:{marginBottom:"12px"},children:[(0,d.jsx)(E.Z,{type:"button",onClick:function(){v()},children:(0,d.jsx)(V.Z,{color:"primary",fontSize:"large"})}),(0,d.jsx)(E.Z,{type:"button",onClick:function(){f(!g)},children:(0,d.jsx)(H.Z,{color:"primary",fontSize:"large"})})]}),g&&(0,d.jsx)(k,{}),n&&!t&&(0,d.jsx)(N,{}),!n&&(0,d.jsx)(y,{})]}),m&&(0,d.jsx)(R,{isModalOpen:m,toggleModal:v})]})}}}]);
//# sourceMappingURL=369.7eb1b0b9.chunk.js.map